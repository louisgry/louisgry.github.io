---
title: '算法思想-滑动窗口类经典题'
date: 2019-12-09 20:00:20
categories: 算法
tags: 
- 滑动窗口
description: Minimum Size Subarray Sum、Longest Substring Without Repeating Characters
---

## window
- [滑动窗口](#滑动窗口)
    - [209. Minimum Size Subarray Sum](https://leetcode.com/problems/minimum-size-subarray-sum/)：[【209题解】](#209题解)
    ![](/images/algo/window/minimum-size.gif)
    - [3. Longest Substring Without Repeating Characters](https://leetcode.com/problems/longest-substring-without-repeating-characters/)：[【3题解】](#3题解)
    ![](/images/algo/window/longest-substring.gif)
    
## 滑动窗口
### 209题解
- 209题解
    - 209 Minimum Size Subarray Sum：https://leetcode.com/problems/minimum-size-subarray-sum/
        - 求最短子序和sum<=s
        - Input: s = 7, nums = [2,3,1,2,4,3]
        - Output: 2
        - 注意：子数组是否连续？没有解怎么办？
    - 思路1：两次遍历：求往后的和值达到要求的长度最小能为多少（包含了大量的重复计算）
    - 时间复杂度：O(n^2)
    - 空间复杂度：O(1)
    ```java
    public int minSubArrayLen(int s, int[] nums) {
        // 非空判断
        if(nums==null || nums.length==0) {
            return 0;
        }
        // 两次遍历：求往后的和值达到要求的长度最小能为多少
        int min = Integer.MAX_VALUE;
        for(int i=0; i<nums.length; i++) {
            int sum = 0;
            for(int j=i; j<nums.length; j++) {
                sum += nums[j];
                if(sum >= s) {
                    min = Math.min(min, j-i+1);
                    break;
                }
            }
        }
        if(min==Integer.MAX_VALUE)
            return 0;
        return min;
    }
    ```
    - 思路2：滑动窗口（维护nums[i...j]，如果sum比s小 sum += nums[++j]，否则sum -= nums[i++]）
    - 时间复杂度：O(n)
    - 空间复杂度：O(1)
    ```java
    public int minSubArrayLen(int s, int[] nums) {
        // 非空判断
        if(nums==null || nums.length==0) {
            return 0;
        }
        // 右边界不包含任何元素
        int l=0, r=-1;
        int min = Integer.MAX_VALUE;
        int sum = 0;
        while(l < nums.length) {
            if(r+1<nums.length && sum < s) {
                // 需判断是否越界
                sum += nums[++r];
            }
            else {
                sum -= nums[l++];
            }
            
            if(sum >= s) {
                min = Math.min(min, r-l+1);
            }
        }
        // 返回结果判断，如果没找到为0
        if(min == Integer.MAX_VALUE) {
            return 0;
        }
        return min;
    }
    ```

### 3题解
- 3题解
    - 3 Longest Substring Without Repeating Characters：https://leetcode.com/problems/longest-substring-without-repeating-characters/
        - 求字符串不重复子串的最长值
        - Input: "abcabcbb"
        - Output: 3
        - Explanation: The answer is "abc", with the length of 3.
    - 思路：滑动窗口，使用freq[256]记录重复字符
    - 时间复杂度：O(n)
    - 空间复杂度：O(len(charset))
    ```java
    public int lengthOfLongestSubstring(String s) {
        // 非空判断
        if(s==null || s.length()==0) {
            return 0;
        }
        // 滑动窗口为s[l...r]
        int l=0, r=-1;
        // 记录字符频率
        int[] freq = new int[256];
        int max = Integer.MIN_VALUE;

        while(l < s.length()) {
            // 右边界往前移动
            if(r+1<s.length() && freq[s.charAt(r+1)]==0) {
                // 需判断数组下标是否越界
                freq[s.charAt(++r)]++;
            }
            else {
                freq[s.charAt(l++)]--;
            }
            max = Math.max(max, r-l+1);
        }
        return max;
    }
    ```

